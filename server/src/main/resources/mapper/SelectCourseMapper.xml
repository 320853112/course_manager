<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.denghuo.course_manage.dao.SelectCourseDAO">
    <insert id="pickCourse">
        insert into sc (stu_id,course_id) values(#{stu_id},#{course_id})
    </insert>

    <update id="reduceCourse" parameterType="int">
        update course set surplus = surplus - 1 where id = #{course_id}
    </update>

    <select id="getCourseByStuId" parameterType="Integer" resultType="Course">
        SELECT * FROM sc,course where stu_id = #{stu_id} and sc.course_id = course.id
    </select>

    <update id="setScoreByStu" parameterType="StuToCourse">
        update sc set score = #{score} where course_id = #{courseId} and stu_id  =#{stuId}
    </update>

</mapper>